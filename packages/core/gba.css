:root{
  --gba-bg:#E9F2E5; --panel:#F8F6F0; --ink:#2B2B2B;
  --hl:rgba(255,255,255,.9); --sh:rgba(0,0,0,.12);

  /* Gen3寄りタイプ色（調整OK） */
  --t-normal:#A8A878; --t-fire:#F08030; --t-water:#6890F0; --t-electric:#F8D030;
  --t-grass:#78C850; --t-ice:#98D8D8; --t-fighting:#C03028; --t-poison:#A040A0;
  --t-ground:#E0C068; --t-flying:#A890F0; --t-psychic:#F85888; --t-bug:#A8B820;
  --t-rock:#B8A038; --t-ghost:#705898; --t-dragon:#7038F8; --t-dark:#705848; --t-steel:#B8B8D0;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--gba-bg);color:var(--ink);font-family:"DotGothic16",system-ui,sans-serif}

/* スキャンライン（雰囲気だけ/任意） */
.scanlines::before{
  content:"";position:fixed;inset:0;pointer-events:none;
  background:repeating-linear-gradient(to bottom,
    rgba(0,0,0,.045),rgba(0,0,0,.045)1px,transparent 1px,transparent 3px);
  mix-blend-mode:multiply
}

/* コンテナ */
.gba{padding:16px;image-rendering:pixelated}

/* タイプバッジ */
.type-badge{
  display:inline-flex;align-items:center;padding:2px 10px;line-height:1;font-weight:700;
  border:2px solid #1c1c1c;border-radius:10px;letter-spacing:.04em;font-size:14px;color:#111;
  text-shadow:0 1px 0 rgba(0,0,0,.15);
  box-shadow:inset 0 1px 0 var(--hl), inset 0 -1px 0 var(--sh), 0 2px 0 rgba(0,0,0,.08)
}
.type-badge.normal{background:var(--t-normal)}
.type-badge.fire{background:var(--t-fire)}
.type-badge.water{background:var(--t-water)}
.type-badge.electric{background:var(--t-electric)}
.type-badge.grass{background:var(--t-grass)}
.type-badge.ice{background:var(--t-ice)}
.type-badge.fighting{background:var(--t-fighting);color:#fff}
.type-badge.poison{background:var(--t-poison);color:#fff}
.type-badge.ground{background:var(--t-ground)}
.type-badge.flying{background:var(--t-flying)}
.type-badge.psychic{background:var(--t-psychic)}
.type-badge.bug{background:var(--t-bug)}
.type-badge.rock{background:var(--t-rock)}
.type-badge.ghost{background:var(--t-ghost);color:#fff}
.type-badge.dragon{background:var(--t-dragon);color:#fff}
.type-badge.dark{background:var(--t-dark);color:#fff}
.type-badge.steel{background:var(--t-steel)}

/* メッセージウィンドウ */
.msg-window{
  max-width:720px;background:var(--panel);border:2px solid var(--ink);
  border-radius:14px;padding:10px 12px 12px;margin:12px 0;position:relative;
  box-shadow:inset 0 1px 0 var(--hl), inset 0 -1px 0 var(--sh), 0 2px 0 rgba(0,0,0,.08)
}
.msg-title{
  display:inline-block;background:#DDE8D6;border:2px solid var(--ink);border-radius:10px;
  padding:2px 8px;margin-bottom:6px;font-weight:700;
  box-shadow:inset 0 1px 0 var(--hl), inset 0 -1px 0 var(--sh)
}
.msg-window p{margin:0;line-height:1.6}
.msg-cursor{position:absolute;right:10px;bottom:6px;font-weight:700;animation:blink .9s steps(1,end) infinite}
@keyframes blink{0%,60%{opacity:1}61%,100%{opacity:0}}

/* メニュー（グリッド） */
.menu{display:grid;gap:10px;max-width:420px;margin-top:12px}
.menu.two{grid-template-columns:repeat(2,minmax(0,200px))}
.menu.three{grid-template-columns:repeat(3,minmax(0,1fr))}
.menu-item{
  display:flex;align-items:center;gap:8px;padding:8px 10px;text-align:left;cursor:pointer;
  background:var(--panel);border:2px solid var(--ink);border-radius:14px;font-weight:700;
  box-shadow:inset 0 1px 0 var(--hl), inset 0 -1px 0 var(--sh), 0 2px 0 rgba(0,0,0,.08);
  transition:transform .12s ease
}
.menu-item:hover{transform:translateY(-1px)}
.menu-item .cursor{visibility:hidden;margin-right:2px}
.menu-item.is-active{outline:2px solid #3A6B92;outline-offset:-2px}
.menu-item.is-active .cursor{visibility:visible;animation:blink .9s steps(1,end) infinite}

/* 省モーション配慮 */
@media (prefers-reduced-motion: reduce){
  .menu-item{transition:none}
  .msg-cursor,.menu-item.is-active .cursor{animation:none}
}
