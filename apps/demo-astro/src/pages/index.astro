---
import TypeBadge from "@pkmn-ui/astro/TypeBadge.astro";
import MsgWindow from "@pkmn-ui/astro/MsgWindow.astro";
import MenuGrid from "@pkmn-ui/astro/MenuGrid.astro";

const menu = [
  {label:"ãƒãƒƒã‚°",active:true},
  {label:"ãƒã‚±ãƒ¢ãƒ³"},
  {label:"ãšã‹ã‚“"},
  {label:"ã›ã£ã¦ã„"}
];

const themes = [
  { id: 'gba', name: 'GBA (Gen3)', description: 'ãƒ«ãƒ“ãƒ¼ãƒ»ã‚µãƒ•ã‚¡ã‚¤ã‚¢ãƒ»ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰' },
  { id: 'ds-dot', name: 'DS DOT (Gen4-5)', description: 'ãƒ€ã‚¤ãƒ‘ãƒ»ãƒ—ãƒ©ãƒãƒŠãƒ»HGSSãƒ»BWãƒ»BW2' },
  { id: 'lgpe', name: 'LGPE (Gen7)', description: 'Let\'s Go ãƒ”ã‚«ãƒãƒ¥ã‚¦ãƒ»ã‚¤ãƒ¼ãƒ–ã‚¤' },
  { id: 'swsh', name: 'SWSH (Gen8)', description: 'ã‚½ãƒ¼ãƒ‰ãƒ»ã‚·ãƒ¼ãƒ«ãƒ‰' }
];
---
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>PKMN-UI ãƒ‡ãƒ¢ - ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ</title>
  <link rel="stylesheet" href="/pkmn-ui/packages/themes/gba/index.css" id="theme-css">
</head>
<body style="padding:24px">
  <div class="demo-container">
    <header class="demo-header panel" style="margin-bottom:24px; padding:16px;">
      <h1 style="margin:0 0 16px 0; font-size:24px;">ğŸ® PKMN-UI ãƒ†ãƒ¼ãƒãƒ‡ãƒ¢</h1>
      
      <div class="theme-selector">
        <label style="font-weight:700; margin-right:12px;">ãƒ†ãƒ¼ãƒé¸æŠ:</label>
        <select id="theme-select" class="theme-dropdown" style="padding:4px 8px; border-radius:4px;">
          {themes.map(theme => (
            <option value={theme.id} selected={theme.id === 'gba'}>
              {theme.name} - {theme.description}
            </option>
          ))}
        </select>
        
        <a href="/pkmn-ui/vue/" class="framework-switch-btn" style="margin-left:16px;">
          ğŸ”„ Vueç‰ˆã§è¦‹ã‚‹
        </a>
      </div>
    </header>

    <div class="demo-content">
      <section style="margin-bottom:24px;">
        <h2 style="margin-bottom:12px;">TypeBadge - ãƒã‚±ãƒ¢ãƒ³ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸</h2>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <TypeBadge type="fire" />
          <TypeBadge type="water" />
          <TypeBadge type="grass" />
          <TypeBadge type="electric" />
        </div>
      </section>

      <section style="margin-bottom:24px;">  
        <h2 style="margin-bottom:12px;">MsgWindow - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦</h2>
        <MsgWindow title="ã‚ªãƒ¼ã‚­ãƒ‰ã¯ã‹ã›">
          <p>ã“ã“ã¯ã€€ãƒã‚±ãƒ¢ãƒ³UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã€€ãƒ‡ãƒ¢ã˜ã‚ƒï¼</p>
          <p>ãƒ†ãƒ¼ãƒã‚’ã€€ãã‚Šã‹ãˆã¦ã€€ã¿ã¦ãã‚Œï¼</p>
        </MsgWindow>
      </section>

      <section>
        <h2 style="margin-bottom:12px;">MenuGrid - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒªãƒƒãƒ‰</h2>
        <MenuGrid items={menu}/>
      </section>
    </div>
  </div>

  <script>
    const themeSelect = document.getElementById('theme-select');
    const themeCss = document.getElementById('theme-css');
    
    const themeMap = {
      'gba': '/pkmn-ui/packages/themes/gba/index.css',
      'ds-dot': '/pkmn-ui/packages/themes/ds/dot/index.css',
      'lgpe': '/pkmn-ui/packages/themes/switch/lgpe/index.css',
      'swsh': '/pkmn-ui/packages/themes/switch/swsh/index.css'
    };

    themeSelect?.addEventListener('change', (e) => {
      const selectedTheme = e.target.value;
      const newCssPath = themeMap[selectedTheme];
      
      if (newCssPath && themeCss) {
        themeCss.href = newCssPath;
        
        // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        localStorage.setItem('selected-theme', selectedTheme);
      }
    });

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ä¿å­˜ã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’å¾©å…ƒ
    const savedTheme = localStorage.getItem('selected-theme');
    if (savedTheme && themeMap[savedTheme]) {
      themeSelect.value = savedTheme;
      themeCss.href = themeMap[savedTheme];
    }
  </script>

  <style>
    .demo-container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .theme-selector {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .theme-dropdown {
      font-family: inherit;
      border: 2px solid var(--ink);
      background: var(--panel-bg);
      color: var(--ink);
    }
    
    h2 {
      font-size: 18px;
      color: var(--ink);
      margin-bottom: 12px;
    }
    
    .framework-switch-btn {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      font-family: inherit;
      font-weight: 700;
      font-size: 14px;
      text-decoration: none;
      border: 2px solid var(--ink);
      border-radius: 4px;
      background: var(--panel-bg);
      color: var(--ink);
      transition: all 0.2s ease;
    }
    
    .framework-switch-btn:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-1px);
    }
  </style>
</body>
</html>
